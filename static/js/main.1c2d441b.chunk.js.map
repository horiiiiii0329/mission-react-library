{"version":3,"sources":["components/editbook/EditBook.module.css","components/newbook/NewBookForm.module.css","components/signup/SignupForm.module.css","components/Login/LoginForm.module.css","components/profile/Profile.module.css","components/book/BookDetail.module.css","components/Layout/MainNavigation.module.css","components/UI/Spinner.module.css","components/Layout/Layout.module.css","components/startingpage/StartingPage.module.css","components/book/BookItem.module.css","components/book/BookList.module.css","components/addbook/AddBookCard.module.css","store/auth-context.js","components/Layout/MainNavigation.js","components/Layout/Layout.js","components/UI/Spinner.js","components/Login/LoginForm.js","pages/LoginPage.js","components/profile/Profile.js","pages/ProfilePage.js","components/signup/SignupForm.js","pages/SignupPage.js","components/startingpage/StartingPage.js","pages/HomePage.js","components/book/BookItem.js","components/addbook/AddBookCard.js","components/book/BookList.js","components/newbook/NewBookForm.js","pages/NewBookPage.js","components/book/BookDetail.js","pages/BookDetailPage.js","components/editbook/EditBook.js","pages/BookEditPage.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","AuthContext","React","createContext","token","isLoggedIn","name","login","logout","setName","AuthContextProvider","props","initialToken","localStorage","getItem","useState","setToken","contextValue","setItem","removeItem","Provider","value","children","MainNavigation","authCtx","useContext","fetch","method","headers","Authorization","then","response","ok","json","data","catch","err","console","log","className","classes","header","to","logo","onClick","Layout","onUserName","userName","main","Spinner","wrapper","spinner","LoginForm","history","useHistory","emailInputRef","useRef","passwordInputRef","isLoading","setIsLoading","error","setError","auth","onSubmit","e","preventDefault","enteredEmail","current","enteredpassword","body","JSON","stringify","email","password","res","errorMessage","ErrorMessageJP","Error","replace","message","control","htmlFor","type","id","ref","actions","toggle","LoginPage","Profile","newNameInputRef","profile","form","enteredNewName","placeholder","action","ProfilePage","SignupForm","nameInputRef","enteredName","enteredPassword","go","SignupPage","StartingPage","starting","HomePage","BookItem","text","item","title","substring","isMine","AddBookCard","BookList","book","setBook","useEffect","list","map","url","detail","NewBookForm","enterTitleInputRef","enterUrlInputRef","enterDetailInputRef","enterReviewInputRef","enteredTitle","enteredUrl","enteredDetail","enteredReview","review","rows","NewBookPage","BookDetail","useParams","bookDetail","setBookdetail","href","comments","reviewer","BookDetailPage","EditBook","defaultValue","BookEditPage","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8HACAA,EAAOC,QAAU,CAAC,MAAQ,wBAAwB,KAAO,uBAAuB,QAAU,0BAA0B,QAAU,4B,gBCA9HD,EAAOC,QAAU,CAAC,MAAQ,2BAA2B,KAAO,0BAA0B,QAAU,6BAA6B,QAAU,+B,iBCAvID,EAAOC,QAAU,CAAC,KAAO,yBAAyB,QAAU,4BAA4B,QAAU,4BAA4B,OAAS,6B,gBCAvID,EAAOC,QAAU,CAAC,KAAO,wBAAwB,QAAU,2BAA2B,QAAU,6B,iBCAhGD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,KAAO,sBAAsB,QAAU,yBAAyB,OAAS,0B,gBCA9HD,EAAOC,QAAU,CAAC,OAAS,2BAA2B,MAAQ,0BAA0B,SAAW,+B,kBCAnGD,EAAOC,QAAU,CAAC,OAAS,+BAA+B,KAAO,+B,kBCAjED,EAAOC,QAAU,CAAC,QAAU,yBAAyB,QAAU,2B,mBCA/DD,EAAOC,QAAU,CAAC,KAAO,uB,gBCAzBD,EAAOC,QAAU,CAAC,SAAW,iC,gBCA7BD,EAAOC,QAAU,CAAC,KAAO,yB,gBCAzBD,EAAOC,QAAU,CAAC,KAAO,yB,gBCAzBD,EAAOC,QAAU,CAAC,KAAO,4B,0JCCnBC,EAAcC,IAAMC,cAAc,CACtCC,MAAO,GACPC,YAAY,EACZC,KAAM,GACNC,MAAO,SAACH,KACRI,OAAQ,aACRC,QAAS,SAACH,OAGCI,EAAsB,SAACC,GAClC,IAAMC,EAAeC,aAAaC,QAAQ,SAC1C,EAA0BC,mBAASH,GAAnC,mBAAOR,EAAP,KAAcY,EAAd,KACA,EAAwBD,mBAAS,MAAjC,mBAAOT,EAAP,KAAaG,EAAb,KAkBMQ,EAAe,CACnBb,MAAOA,EACPC,aAlBuBD,EAmBvBE,KAAMA,EACNC,MAlBmB,SAACH,GACpBS,aAAaK,QAAQ,QAASd,GAC9BY,EAASZ,IAiBTI,OAdoB,WACpBQ,EAAS,MACTH,aAAaM,WAAW,UAaxBV,QAVqB,SAACH,GACtBG,EAAQH,KAYV,OACE,cAACL,EAAYmB,SAAb,CAAsBC,MAAOJ,EAA7B,SACGN,EAAMW,YAKErB,ICkBAsB,EA5DQ,SAACZ,GACtB,IAAMa,EAAUC,qBAAWxB,GAErBI,EAAamB,EAAQnB,WAuB3B,OAjBIA,GACFqB,MAAM,4DAA6D,CACjEC,OAAQ,MACRC,QAAS,CACPC,cAAc,UAAD,OAAYL,EAAQpB,UAGlC0B,MAAK,SAACC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElB,MAAMF,KAEPD,MAAK,SAACI,GAAD,OAAUV,EAAQf,QAAQyB,EAAK5B,SACpC6B,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAI9B,yBAAQG,UAAWC,IAAQC,OAA3B,UACE,cAAC,IAAD,CAAMC,GAAKrC,EAAmB,QAAN,IAAxB,SACE,qBAAKkC,UAAWC,IAAQG,KAAxB,6BAEF,8BACE,+BACGtC,GAAc,+BAAKmB,EAAQlB,KAAb,yBACbD,GACA,6BACE,cAAC,IAAD,CAAMqC,GAAG,SAAT,yCAGFrC,GACA,6BACE,cAAC,IAAD,CAAMqC,GAAG,UAAT,4BAGHrC,GACC,6BACE,cAAC,IAAD,CAAMqC,GAAG,WAAT,oDAGHrC,GACC,6BACE,wBAAQuC,QA9CE,WACpBpB,EAAQhB,UA6CE,uD,iBC7CCqC,EATA,SAAClC,GACd,OACE,qCACE,cAAC,EAAD,CAAgBmC,WAAYnC,EAAMoC,WAClC,sBAAMR,UAAWC,IAAQQ,KAAzB,SAAgCrC,EAAMW,e,kCCG7B2B,MARf,WACE,OACE,qBAAKV,UAAWC,IAAQU,QAAxB,SACE,qBAAKX,UAAWC,IAAQW,aCuEfC,EAtEG,WAChB,IAAMC,EAAUC,cACVC,EAAgBC,mBAChBC,EAAmBD,mBAEnBhC,EAAUC,qBAAWxB,GAE3B,EAAkCc,oBAAS,GAA3C,mBAAO2C,EAAP,KAAkBC,EAAlB,KACA,EAA0B5C,mBAAS,MAAnC,mBAAO6C,EAAP,KAAcC,EAAd,KAyCA,OACE,yBAAStB,UAAWC,IAAQsB,KAA5B,SACE,uBAAMC,SAzCY,SAACC,GACrBA,EAAEC,iBAEF,IAAMC,EAAeX,EAAcY,QAAQ9C,MACrC+C,EAAkBX,EAAiBU,QAAQ9C,MAEjDsC,GAAa,GAEbjC,MAAM,6DAA8D,CAClEC,OAAQ,OACR0C,KAAMC,KAAKC,UAAU,CACnBC,MAAON,EACPO,SAAUL,IAEZxC,QAAS,CACP,eAAgB,sBAGjBE,MAAK,SAAC4C,GAEL,OADAf,GAAa,GACTe,EAAI1C,GACC0C,EAAIzC,OAEJyC,EAAIzC,OAAOH,MAAK,SAACI,GACtB,IAAIyC,EAAezC,EAAK0C,eAExB,MAAM,IAAIC,MAAMF,SAIrB7C,MAAK,SAACI,GACLV,EAAQjB,MAAM2B,EAAK9B,OACnBiD,EAAQyB,QAAQ,YAEjB3C,OAAM,SAACC,GACNyB,EAASzB,EAAI2C,aAMf,UACE,sBAAKxC,UAAWC,IAAQwC,QAAxB,UACE,uBAAOC,QAAQ,QAAf,oBACA,uBAAOC,KAAK,QAAQC,GAAG,QAAQC,IAAK7B,OAEtC,sBAAKhB,UAAWC,IAAQwC,QAAxB,UACE,uBAAOC,QAAQ,WAAf,4CACA,uBAAOC,KAAK,WAAWC,GAAG,WAAWC,IAAK3B,OAE3CC,GAAa,cAAC,EAAD,KACZA,GAAaE,GAAS,4BAAIA,IAC5B,qBAAKrB,UAAWC,IAAQ6C,QAAxB,SACE,wBAAQ9C,UAAWC,IAAQ8C,OAA3B,8CC/DKC,EAJG,WAChB,OAAO,cAAC,EAAD,K,iBC0DMC,EAtDC,WACd,IAAMnC,EAAUC,cAChB,EAAkCvC,oBAAS,GAA3C,mBAAO2C,EAAP,KAAkBC,EAAlB,KACM8B,EAAkBjC,mBAClBhC,EAAUC,qBAAWxB,GA6B3B,OACE,yBAASsC,UAAWC,IAAQkD,QAA5B,SACE,uBAAMnD,UAAWC,IAAQmD,KAAM5B,SA7Bb,SAACC,GACrBA,EAAEC,iBACFN,GAAa,GAEb,IAAMiC,EAAiBH,EAAgBtB,QAAQ9C,MAE/CK,MAAM,4DAA6D,CACjEC,OAAQ,MACR0C,KAAMC,KAAKC,UAAU,CACnBjE,KAAMsF,IAERhE,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYL,EAAQpB,UAGlC0B,MAAK,SAACC,GAML,MALIA,EAASC,KACXR,EAAQf,QAAQmF,GAChBjC,GAAa,GACbN,EAAQyB,QAAQ,UAEZ/C,KAEPI,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAK5B,UACE,sBAAKG,UAAWC,IAAQwC,QAAxB,UACE,wBAAOC,QAAQ,eAAf,4CAAqCzD,EAAQlB,QAC7C,uBACE4E,KAAK,OACLC,GAAG,WACHC,IAAKK,EACLI,YAAY,sCAGfnC,GAAa,cAAC,EAAD,IACd,qBAAKnB,UAAWC,IAAQsD,OAAxB,SACE,0DChDKC,EAJK,WAClB,OAAO,cAAC,EAAD,K,iBC6EMC,EA1EI,WACjB,IAAMC,EAAezC,mBACfD,EAAgBC,mBAChBC,EAAmBD,mBAEnBhC,EAAUC,qBAAWxB,GACrBoD,EAAUC,cAEhB,EAAkCvC,oBAAS,GAA3C,mBAAO2C,EAAP,KAAkBC,EAAlB,KACA,EAA0B5C,mBAAS,MAAnC,mBAAO6C,EAAP,KAAcC,EAAd,KAwCA,OACE,yBAAStB,UAAWC,IAAQsB,KAA5B,SACE,uBAAMC,SAxCY,SAACC,GACrBA,EAAEC,iBAEF,IAAMiC,EAAcD,EAAa9B,QAAQ9C,MACnC6C,EAAeX,EAAcY,QAAQ9C,MACrC8E,EAAkB1C,EAAiBU,QAAQ9C,MAEjDsC,GAAa,GACbjC,MAAM,4DAA6D,CACjEC,OAAQ,OACR0C,KAAMC,KAAKC,UAAU,CACnBjE,KAAM4F,EACN1B,MAAON,EACPO,SAAU0B,MAGXrE,MAAK,SAAC4C,GAEL,OADAf,GAAa,GACTe,EAAI1C,GACC0C,EAAIzC,OAEJyC,EAAIzC,OAAOH,MAAK,SAACI,GACtB,IAAIyC,EAAezC,EAAK0C,eAExB,MAAM,IAAIC,MAAMF,SAIrB7C,MAAK,SAACI,GACLV,EAAQjB,MAAM2B,EAAK9B,OACnBiD,EAAQyB,QAAQ,SAChBzB,EAAQ+C,GAAG,MAEZjE,OAAM,SAACC,GACNyB,EAASzB,EAAI2C,aAMf,UACE,sBAAKxC,UAAWC,IAAQwC,QAAxB,UACE,uBAAOC,QAAQ,OAAf,0BACA,uBAAOC,KAAK,OAAOC,GAAG,OAAOC,IAAKa,OAEpC,sBAAK1D,UAAWC,IAAQwC,QAAxB,UACE,uBAAOC,QAAQ,QAAf,oBACA,uBAAOC,KAAK,QAAQC,GAAG,QAAQC,IAAK7B,OAEtC,sBAAKhB,UAAWC,IAAQwC,QAAxB,UACE,uBAAOC,QAAQ,WAAf,4CACA,uBAAOC,KAAK,WAAWC,GAAG,WAAWC,IAAK3B,OAE3CC,GAAa,cAAC,EAAD,KACZA,GAAaE,GAAS,4BAAIA,IAC5B,qBAAKrB,UAAWC,IAAQ6C,QAAxB,SACE,wBAAQ9C,UAAWC,IAAQ8C,OAA3B,0DCnEKe,EAJI,WACjB,OAAO,cAAC,EAAD,K,iBCOMC,EARM,WACnB,OACE,yBAAS/D,UAAWC,IAAQ+D,SAA5B,SACE,qFCCSC,EAJE,WACf,OAAO,cAAC,EAAD,K,iBCuBMC,EAvBE,SAAC9F,GAChB,IAAM+F,EAAO/F,EAAM+F,KAEnB,OACE,qBAAInE,UAAWC,IAAQmE,KAAvB,UACE,mCACE,qCACE,4BAAIhG,EAAMiG,UAEZ,uCAAaF,EAAKG,UAAU,EAAG,KAA/B,YAEDlG,EAAMmG,QACL,cAAC,IAAD,CAAMvE,UAAU,MAAMG,GAAE,gBAAW/B,EAAMwE,IAAzC,0BAIF,cAAC,IAAD,CAAM5C,UAAU,MAAMG,GAAE,kBAAa/B,EAAMwE,IAA3C,8B,kCCMS4B,EArBK,WAClB,IAAM1D,EAAUC,cAMhB,OACE,qBAAIf,UAAWC,IAAQmE,KAAM/D,QALV,WACnBS,EAAQyB,QAAQ,SAIhB,UACE,iCACE,qCACE,+EAGJ,cAAC,IAAD,CAAMvC,UAAU,MAAMG,GAAG,OAAzB,wBCiCSsE,EA5CE,SAACrG,GAChB,MAAwBI,mBAAS,MAAjC,mBAAOkG,EAAP,KAAaC,EAAb,KACM1F,EAAUC,qBAAWxB,GAqB3B,OAnBAkH,qBAAU,WACRzF,MAAM,4DAA6D,CACjEC,OAAQ,MACRC,QAAS,CACPC,cAAc,UAAD,OAAYL,EAAQpB,UAGlC0B,MAAK,SAACC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElB,MAAMF,KAEPD,MAAK,SAACI,GACLgF,EAAQhF,MAETC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC7B,CAACZ,EAAQpB,QAGV,qBAAImC,UAAWC,IAAQ4E,KAAvB,UACE,cAAC,EAAD,IACCH,EACCA,EAAKI,KAAI,SAACJ,GAAD,OACP,cAAC,EAAD,CAEE9B,GAAI8B,EAAK9B,GACTmC,IAAKL,EAAKK,IACVV,MAAOK,EAAKL,MACZF,KAAMO,EAAKM,OACXT,OAAQG,EAAKH,QALRG,EAAK9B,OASd,cAAC,EAAD,Q,iBCgCOqC,EAtEK,WAClB,IAAMnE,EAAUC,cAChB,EAAkCvC,oBAAS,GAA3C,mBAAO2C,EAAP,KAAkBC,EAAlB,KACM8D,EAAqBjE,mBACrBkE,EAAmBlE,mBACnBmE,EAAsBnE,mBACtBoE,EAAsBpE,mBAEtBhC,EAAUC,qBAAWxB,GAiC3B,OACE,qCACE,oBAAIsC,UAAWC,IAAQoE,MAAvB,sCACA,uBAAMrE,UAAWC,IAAQmD,KAAM5B,SAlCb,SAACC,GACrBA,EAAEC,iBACFN,GAAa,GACb,IAAMkE,EAAeJ,EAAmBtD,QAAQ9C,MAC1CyG,EAAaJ,EAAiBvD,QAAQ9C,MACtC0G,EAAgBJ,EAAoBxD,QAAQ9C,MAC5C2G,EAAgBJ,EAAoBzD,QAAQ9C,MAElDK,MAAM,4DAA6D,CACjEC,OAAQ,OACR0C,KAAMC,KAAKC,UAAU,CACnBqC,MAAOiB,EACPP,IAAKQ,EACLP,OAAQQ,EACRE,OAAQD,IAEVpG,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYL,EAAQpB,UAGlC0B,MAAK,SAACC,GAKL,MAJIA,EAASC,KACX2B,GAAa,GACbN,EAAQyB,QAAQ,UAEZ/C,KAEPI,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAM5B,UACE,sBAAKG,UAAWC,IAAQwC,QAAxB,UACE,uBAAOC,QAAQ,QAAf,sCACA,uBAAOC,KAAK,OAAOE,IAAKqC,OAE1B,sBAAKlF,UAAWC,IAAQwC,QAAxB,UACE,uBAAOC,QAAQ,MAAf,gCACA,uBAAOC,KAAK,OAAOE,IAAKsC,OAE1B,sBAAKnF,UAAWC,IAAQwC,QAAxB,UACE,uBAAOC,QAAQ,OAAf,0BACA,0BAAUC,KAAK,OAAOE,IAAKuC,EAAqBO,KAAK,SAEvD,sBAAK3F,UAAWC,IAAQwC,QAAxB,UACE,uBAAOC,QAAQ,SAAf,2BACA,uBAAOC,KAAK,OAAOE,IAAKwC,OAEzBlE,GAAa,cAAC,EAAD,IACd,qBAAKnB,UAAWC,IAAQ6C,QAAxB,SACE,2DChEK8C,EAJK,WAClB,OAAO,cAAC,EAAD,K,iBCiDMC,GA/CI,WACjB,IAAM5G,EAAUC,qBAAWxB,GACnBkF,EAAOkD,cAAPlD,GACR,EAAoCpE,mBAAS,MAA7C,mBAAOuH,EAAP,KAAmBC,EAAnB,KAmBA,OAjBApB,qBAAU,WACRzF,MAAM,6DAAD,OAA8DyD,GAAM,CACvExD,OAAQ,MACRC,QAAS,CACPC,cAAc,UAAD,OAAYL,EAAQpB,UAGlC0B,MAAK,SAACC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElB,MAAMF,KAEPD,MAAK,SAACI,GAAD,OAAUqG,EAAcrG,MAC7BC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC7B,CAACZ,EAAQpB,MAAO+E,IAGjB,mCACGmD,GACC,sBAAK/F,UAAWC,IAAQ+E,OAAxB,UACE,sBAAKhF,UAAWC,IAAQoE,MAAxB,UACE,0DACA,4BAAI0B,EAAW1B,QACf,oBAAG4B,KAAMF,EAAWhB,IAApB,UAA0BgB,EAAWhB,IAAIT,UAAU,EAAG,IAAtD,SACA,0BAEF,gCACE,8CACA,4BAAIyB,EAAWf,YAEjB,sBAAKhF,UAAWC,IAAQiG,SAAxB,UACE,0DACA,+BAAOH,EAAWI,WAClB,4BAAIJ,EAAWL,kBCtCZU,GAJQ,WACrB,OAAO,cAAC,GAAD,K,mBCwIMC,GArIE,WACf,IAAMvF,EAAUC,cACV9B,EAAUC,qBAAWxB,GACnBkF,EAAOkD,cAAPlD,GAEFsC,EAAqBjE,mBACrBkE,EAAmBlE,mBACnBmE,EAAsBnE,mBACtBoE,EAAsBpE,mBAE5B,EAAkCzC,oBAAS,GAA3C,mBAAO2C,EAAP,KAAkBC,EAAlB,KACA,EAAoC5C,mBAAS,MAA7C,mBAAOuH,EAAP,KAAmBC,EAAnB,KAEApB,qBAAU,WACRzF,MAAM,6DAAD,OAA8DyD,GAAM,CACvExD,OAAQ,MACRC,QAAS,CACPC,cAAc,UAAD,OAAYL,EAAQpB,UAGlC0B,MAAK,SAACC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElB,MAAMF,KAEPD,MAAK,SAACI,GAAD,OAAUqG,EAAcrG,MAC7BC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC7B,CAACZ,EAAQpB,MAAO+E,IAmDnB,OACE,qCACE,oBAAI5C,UAAWC,KAAQoE,MAAvB,wDACC0B,EACC,uBAAM/F,UAAWC,KAAQmD,KAAM5B,SArDf,SAACC,GACrBA,EAAEC,iBACFN,GAAa,GAEb,IAAMkE,EAAeJ,EAAmBtD,QAAQ9C,MAC1CyG,EAAaJ,EAAiBvD,QAAQ9C,MACtC0G,EAAgBJ,EAAoBxD,QAAQ9C,MAC5C2G,EAAgBJ,EAAoBzD,QAAQ9C,MAElDK,MAAM,6DAAD,OAA8DyD,GAAM,CACvExD,OAAQ,MACR0C,KAAMC,KAAKC,UAAU,CACnBqC,MAAOiB,EACPP,IAAKQ,EACLP,OAAQQ,EACRE,OAAQD,IAEVpG,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYL,EAAQpB,UAElC0B,MAAK,SAACC,GACHA,EAASC,KACX2B,GAAa,GACbN,EAAQyB,QAAQ,cA6BhB,UACE,sBAAKvC,UAAWC,KAAQwC,QAAxB,UACE,uBAAOC,QAAQ,QAAf,sCACA,uBACEC,KAAK,OACLE,IAAKqC,EACLoB,aAAcP,EAAW1B,WAG7B,sBAAKrE,UAAWC,KAAQwC,QAAxB,UACE,uBAAOC,QAAQ,MAAf,gCACA,uBACEC,KAAK,OACLE,IAAKsC,EACLmB,aAAcP,EAAWhB,SAG7B,sBAAK/E,UAAWC,KAAQwC,QAAxB,UACE,uBAAOC,QAAQ,OAAf,0BACA,uBACEC,KAAK,OACLE,IAAKuC,EACLkB,aAAcP,EAAWf,YAG7B,sBAAKhF,UAAWC,KAAQwC,QAAxB,UACE,uBAAOC,QAAQ,SAAf,2BACA,0BACEC,KAAK,OACLE,IAAKwC,EACLiB,aAAcP,EAAWL,YAG5BvE,GAAa,cAAC,EAAD,IACd,qBAAKnB,UAAWC,KAAQ6C,QAAxB,SACE,oDAEF,qBAAK9C,UAAWC,KAAQ6C,QAAxB,SACE,wBAAQH,KAAK,SAAStC,QA9DV,WACpBe,GAAa,GACbjC,MAAM,6DAAD,OAA8DyD,GAAM,CACvExD,OAAQ,SACRC,QAAS,CACPC,cAAc,UAAD,OAAYL,EAAQpB,UAGlC0B,MAAK,SAACC,GAKL,MAJIA,EAASC,KACX2B,GAAa,GACbN,EAAQyB,QAAQ,UAEZ/C,KAEPI,OAAM,SAACC,GACNC,QAAQC,IAAIF,OA8CR,+BAMJ,cAAC,EAAD,QC/HO0G,GAJM,WACnB,OAAO,cAAC,GAAD,KC+DMC,OArDf,SAAapI,GACX,IAAMa,EAAUC,qBAAWxB,GAE3B,OACE,cAAC,EAAD,CAAQ6C,WAAYnC,EAAMmC,WAA1B,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkG,KAAK,IAAIC,OAAK,EAArB,SACE,cAAC,EAAD,OAEAzH,EAAQnB,YACR,cAAC,IAAD,CAAO2I,KAAK,SAAZ,SACE,cAAC,EAAD,OAGFxH,EAAQnB,YACR,cAAC,IAAD,CAAO2I,KAAK,UAAZ,SACE,cAAC,EAAD,MAGHxH,EAAQnB,YACP,cAAC,IAAD,CAAO2I,KAAK,OAAZ,SACE,cAAC,EAAD,MAGHxH,EAAQnB,YACP,cAAC,IAAD,CAAO2I,KAAK,cAAZ,SACE,cAAC,GAAD,MAGHxH,EAAQnB,YACP,cAAC,IAAD,CAAO2I,KAAK,YAAZ,SACE,cAAC,GAAD,MAGHxH,EAAQnB,YACP,cAAC,IAAD,CAAO2I,KAAK,WAAZ,SACE,cAAC,EAAD,MAGHxH,EAAQnB,YACP,cAAC,IAAD,CAAO2I,KAAK,QAAZ,SACE,cAAC,EAAD,MAGJ,eAAC,IAAD,CAAOA,KAAK,IAAZ,UACGxH,EAAQnB,YAAc,cAAC,IAAD,CAAUqC,GAAG,WAClClB,EAAQnB,YAAc,cAAC,IAAD,CAAUqC,GAAG,eC/ChCwG,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBtH,MAAK,YAAkD,IAA/CuH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,IAAD,UACE,cAAC,GAAD,UAINC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.1c2d441b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"EditBook_title__2vmAS\",\"form\":\"EditBook_form__2xaD_\",\"control\":\"EditBook_control__ZU7kO\",\"actions\":\"EditBook_actions__1UMOa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"NewBookForm_title__1l-f-\",\"form\":\"NewBookForm_form__oYF0N\",\"control\":\"NewBookForm_control__394b-\",\"actions\":\"NewBookForm_actions__3cQGV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"SignupForm_auth__bUXK0\",\"control\":\"SignupForm_control__ln-fX\",\"actions\":\"SignupForm_actions__3dl4-\",\"toggle\":\"SignupForm_toggle__1m7DF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"LoginForm_auth__1y-O5\",\"control\":\"LoginForm_control__1hPyS\",\"actions\":\"LoginForm_actions__2EoT0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2VM8b\",\"form\":\"Profile_form__2KgXg\",\"control\":\"Profile_control__1J0h2\",\"action\":\"Profile_action__1NqB7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"BookDetail_detail__1z7lc\",\"title\":\"BookDetail_title__XLVrC\",\"comments\":\"BookDetail_comments__3fPEv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__2lqQ1\",\"logo\":\"MainNavigation_logo__1TgMx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Spinner_wrapper__1KUMJ\",\"spinner\":\"Spinner_spinner__19owv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__1dFZc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starting\":\"StartingPage_starting__2JH20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"BookItem_item__2xfS9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"BookList_list__2OJxS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"AddBookCard_item__10ciF\"};","import React, { useState } from \"react\";\n\nconst AuthContext = React.createContext({\n  token: \"\",\n  isLoggedIn: false,\n  name: \"\",\n  login: (token) => {},\n  logout: () => {},\n  setName: (name) => {},\n});\n\nexport const AuthContextProvider = (props) => {\n  const initialToken = localStorage.getItem(\"token\");\n  const [token, setToken] = useState(initialToken);\n  const [name, setName] = useState(null);\n\n  const userIsLoggedIn = !!token;\n\n  const loginHandler = (token) => {\n    localStorage.setItem(\"token\", token);\n    setToken(token);\n  };\n\n  const logoutHandler = () => {\n    setToken(null);\n    localStorage.removeItem(\"token\");\n  };\n\n  const setNameHandler = (name) => {\n    setName(name);\n  };\n\n  const contextValue = {\n    token: token,\n    isLoggedIn: userIsLoggedIn,\n    name: name,\n    login: loginHandler,\n    logout: logoutHandler,\n    setName: setNameHandler,\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthContext;\n","import { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\n\nimport classes from \"./MainNavigation.module.css\";\nimport AuthContext from \"../../store/auth-context\";\n\nconst MainNavigation = (props) => {\n  const authCtx = useContext(AuthContext);\n\n  const isLoggedIn = authCtx.isLoggedIn;\n\n  const logoutHandler = () => {\n    authCtx.logout();\n  };\n\n  if (isLoggedIn) {\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/users\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw response;\n      })\n      .then((data) => authCtx.setName(data.name))\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <header className={classes.header}>\n      <Link to={!isLoggedIn ? \"/\" : \"/book\"}>\n        <div className={classes.logo}>React Library</div>\n      </Link>\n      <nav>\n        <ul>\n          {isLoggedIn && <li>{authCtx.name}　さん</li>}\n          {!isLoggedIn && (\n            <li>\n              <Link to=\"/login\">ログイン</Link>\n            </li>\n          )}\n          {!isLoggedIn && (\n            <li>\n              <Link to=\"/signup\">登録</Link>\n            </li>\n          )}\n          {isLoggedIn && (\n            <li>\n              <Link to=\"/profile\">プロフィール</Link>\n            </li>\n          )}\n          {isLoggedIn && (\n            <li>\n              <button onClick={logoutHandler}>ログアウト</button>\n            </li>\n          )}\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default MainNavigation;\n","import MainNavigation from \"./MainNavigation\";\nimport classes from \"./Layout.module.css\";\n\nconst Layout = (props) => {\n  return (\n    <>\n      <MainNavigation onUserName={props.userName} />\n      <main className={classes.main}>{props.children}</main>\n    </>\n  );\n};\n\nexport default Layout;\n","import classes from \"./Spinner.module.css\";\n\nfunction Spinner() {\n  return (\n    <div className={classes.wrapper}>\n      <div className={classes.spinner}></div>\n    </div>\n  );\n}\n\nexport default Spinner;\n","import classes from \"./LoginForm.module.css\";\nimport { useState, useRef, useContext } from \"react\";\nimport AuthContext from \"../../store/auth-context\";\nimport { useHistory } from \"react-router\";\nimport Spinner from \"../UI/Spinner\";\n\nconst LoginForm = () => {\n  const history = useHistory();\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n\n  const authCtx = useContext(AuthContext);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    const enteredEmail = emailInputRef.current.value;\n    const enteredpassword = passwordInputRef.current.value;\n\n    setIsLoading(true);\n\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/signin\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredpassword,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => {\n        setIsLoading(false);\n        if (res.ok) {\n          return res.json();\n        } else {\n          return res.json().then((data) => {\n            let errorMessage = data.ErrorMessageJP;\n\n            throw new Error(errorMessage);\n          });\n        }\n      })\n      .then((data) => {\n        authCtx.login(data.token);\n        history.replace(\"/book\");\n      })\n      .catch((err) => {\n        setError(err.message);\n      });\n  };\n\n  return (\n    <section className={classes.auth}>\n      <form onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"email\">e-mail</label>\n          <input type=\"email\" id=\"email\" ref={emailInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">パスワード</label>\n          <input type=\"password\" id=\"password\" ref={passwordInputRef} />\n        </div>\n        {isLoading && <Spinner />}\n        {!isLoading && error && <p>{error}</p>}\n        <div className={classes.actions}>\n          <button className={classes.toggle}>ログイン</button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default LoginForm;\n","import LoginForm from \"../components/Login/LoginForm\";\n\nconst LoginPage = () => {\n  return <LoginForm />;\n};\n\nexport default LoginPage;\n","import { useRef, useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport AuthContext from \"../../store/auth-context\";\nimport Spinner from \"../UI/Spinner\";\nimport classes from \"./Profile.module.css\";\n\nconst Profile = () => {\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(false);\n  const newNameInputRef = useRef();\n  const authCtx = useContext(AuthContext);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    const enteredNewName = newNameInputRef.current.value;\n\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/users\", {\n      method: \"PUT\",\n      body: JSON.stringify({\n        name: enteredNewName,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          authCtx.setName(enteredNewName);\n          setIsLoading(false);\n          history.replace(\"/book\");\n        }\n        throw response;\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <section className={classes.profile}>\n      <form className={classes.form} onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"new-password\">ユーザー名:{authCtx.name}</label>\n          <input\n            type=\"text\"\n            id=\"new-name\"\n            ref={newNameInputRef}\n            placeholder=\"ユーザー名\"\n          />\n        </div>\n        {isLoading && <Spinner />}\n        <div className={classes.action}>\n          <button>更新</button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default Profile;\n","import Profile from \"../components/profile/Profile\";\n\nconst ProfilePage = () => {\n  return <Profile />;\n};\n\nexport default ProfilePage;\n","import classes from \"./SignupForm.module.css\";\nimport { useState, useRef, useContext } from \"react\";\nimport { useHistory } from \"react-router\";\nimport AuthContext from \"../../store/auth-context\";\nimport Spinner from \"../UI/Spinner\";\n\nconst SignupForm = () => {\n  const nameInputRef = useRef();\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n\n  const authCtx = useContext(AuthContext);\n  const history = useHistory();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    const enteredName = nameInputRef.current.value;\n    const enteredEmail = emailInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n\n    setIsLoading(true);\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/users\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        name: enteredName,\n        email: enteredEmail,\n        password: enteredPassword,\n      }),\n    })\n      .then((res) => {\n        setIsLoading(false);\n        if (res.ok) {\n          return res.json();\n        } else {\n          return res.json().then((data) => {\n            let errorMessage = data.ErrorMessageJP;\n\n            throw new Error(errorMessage);\n          });\n        }\n      })\n      .then((data) => {\n        authCtx.login(data.token);\n        history.replace(\"/book\");\n        history.go(0);\n      })\n      .catch((err) => {\n        setError(err.message);\n      });\n  };\n\n  return (\n    <section className={classes.auth}>\n      <form onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"name\">名前</label>\n          <input type=\"text\" id=\"name\" ref={nameInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"email\">e-mail</label>\n          <input type=\"email\" id=\"email\" ref={emailInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">パスワード</label>\n          <input type=\"password\" id=\"password\" ref={passwordInputRef} />\n        </div>\n        {isLoading && <Spinner />}\n        {!isLoading && error && <p>{error}</p>}\n        <div className={classes.actions}>\n          <button className={classes.toggle}>サインアップ</button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default SignupForm;\n","import SignupForm from \"../components/signup/SignupForm\";\n\nconst SignupPage = () => {\n  return <SignupForm />;\n};\n\nexport default SignupPage;\n","import classes from \"./StartingPage.module.css\";\n\nconst StartingPage = () => {\n  return (\n    <section className={classes.starting}>\n      <h1>こんにちは！！！</h1>\n    </section>\n  );\n};\n\nexport default StartingPage;\n","import StartingPage from \"../components/startingpage/StartingPage\";\n\nconst HomePage = () => {\n  return <StartingPage />;\n};\n\nexport default HomePage;\n","import { Link } from \"react-router-dom\";\nimport classes from \"./BookItem.module.css\";\n\nconst BookItem = (props) => {\n  const text = props.text;\n\n  return (\n    <li className={classes.item}>\n      <figure>\n        <blockquote>\n          <p>{props.title}</p>\n        </blockquote>\n        <figcaption>{text.substring(0, 100)}...</figcaption>\n      </figure>\n      {props.isMine && (\n        <Link className=\"btn\" to={`/edit/${props.id}`}>\n          編集\n        </Link>\n      )}\n      <Link className=\"btn\" to={`/detail/${props.id}`}>\n        詳細\n      </Link>\n    </li>\n  );\n};\n\nexport default BookItem;\n","import classes from \"./AddBookCard.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\n\nconst AddBookCard = () => {\n  const history = useHistory();\n\n  const clickHandler = () => {\n    history.replace(\"/new\");\n  };\n\n  return (\n    <li className={classes.item} onClick={clickHandler}>\n      <figure>\n        <blockquote>\n          <p>書籍を追加する</p>\n        </blockquote>\n      </figure>\n      <Link className=\"btn\" to=\"/new\">\n        ＋\n      </Link>\n    </li>\n  );\n};\n\nexport default AddBookCard;\n","import BookItem from \"./BookItem\";\nimport classes from \"./BookList.module.css\";\nimport { useEffect, useState, useContext } from \"react\";\nimport AddBookCard from \"../addbook/AddBookCard\";\nimport AuthContext from \"../../store/auth-context\";\nimport Spinner from \"../UI/Spinner\";\n\nconst BookList = (props) => {\n  const [book, setBook] = useState(null);\n  const authCtx = useContext(AuthContext);\n\n  useEffect(() => {\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/books\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw response;\n      })\n      .then((data) => {\n        setBook(data);\n      })\n      .catch((err) => console.log(err));\n  }, [authCtx.token]);\n\n  return (\n    <ul className={classes.list}>\n      <AddBookCard />\n      {book ? (\n        book.map((book) => (\n          <BookItem\n            key={book.id}\n            id={book.id}\n            url={book.url}\n            title={book.title}\n            text={book.detail}\n            isMine={book.isMine}\n          />\n        ))\n      ) : (\n        <Spinner />\n      )}\n    </ul>\n  );\n};\n\nexport default BookList;\n","import { useRef, useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport AuthContext from \"../../store/auth-context\";\nimport Spinner from \"../UI/Spinner\";\n\nimport classes from \"./NewBookForm.module.css\";\n\nconst NewBookForm = () => {\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(false);\n  const enterTitleInputRef = useRef();\n  const enterUrlInputRef = useRef();\n  const enterDetailInputRef = useRef();\n  const enterReviewInputRef = useRef();\n\n  const authCtx = useContext(AuthContext);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    const enteredTitle = enterTitleInputRef.current.value;\n    const enteredUrl = enterUrlInputRef.current.value;\n    const enteredDetail = enterDetailInputRef.current.value;\n    const enteredReview = enterReviewInputRef.current.value;\n\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/books\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        title: enteredTitle,\n        url: enteredUrl,\n        detail: enteredDetail,\n        review: enteredReview,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          setIsLoading(false);\n          history.replace(\"/book\");\n        }\n        throw response;\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <>\n      <h2 className={classes.title}>書籍登録</h2>\n      <form className={classes.form} onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"title\">タイトル</label>\n          <input type=\"text\" ref={enterTitleInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"url\">リンク</label>\n          <input type=\"text\" ref={enterUrlInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"link\">詳細</label>\n          <textarea type=\"text\" ref={enterDetailInputRef} rows=\"5\" />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"review\">感想 </label>\n          <input type=\"text\" ref={enterReviewInputRef} />\n        </div>\n        {isLoading && <Spinner />}\n        <div className={classes.actions}>\n          <button>登録</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default NewBookForm;\n","import NewBookForm from \"../components/newbook/NewBookForm\";\n\nconst NewBookPage = () => {\n  return <NewBookForm />;\n};\n\nexport default NewBookPage;\n","import classes from \"./BookDetail.module.css\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState, useContext } from \"react\";\nimport AuthContext from \"../../store/auth-context\";\n\nconst BookDetail = () => {\n  const authCtx = useContext(AuthContext);\n  const { id } = useParams();\n  const [bookDetail, setBookdetail] = useState(null);\n\n  useEffect(() => {\n    fetch(`https://api-for-missions-and-railways.herokuapp.com/books/${id}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw response;\n      })\n      .then((data) => setBookdetail(data))\n      .catch((err) => console.log(err));\n  }, [authCtx.token, id]);\n\n  return (\n    <>\n      {bookDetail && (\n        <div className={classes.detail}>\n          <div className={classes.title}>\n            <h3>タイトル</h3>\n            <p>{bookDetail.title}</p>\n            <a href={bookDetail.url}>{bookDetail.url.substring(0, 40)}...</a>\n            <hr></hr>\n          </div>\n          <div>\n            <h3>詳細</h3>\n            <p>{bookDetail.detail}</p>\n          </div>\n          <div className={classes.comments}>\n            <h3>レビュー</h3>\n            <span>{bookDetail.reviewer}</span>\n            <p>{bookDetail.review}</p>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default BookDetail;\n","import BookDetail from \"../components/book/BookDetail\";\n\nconst BookDetailPage = () => {\n  return <BookDetail />;\n};\n\nexport default BookDetailPage;\n","import classes from \"./EditBook.module.css\";\nimport { useRef, useContext, useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport AuthContext from \"../../store/auth-context\";\nimport Spinner from \"../UI/Spinner\";\n\nconst EditBook = () => {\n  const history = useHistory();\n  const authCtx = useContext(AuthContext);\n  const { id } = useParams();\n\n  const enterTitleInputRef = useRef();\n  const enterUrlInputRef = useRef();\n  const enterDetailInputRef = useRef();\n  const enterReviewInputRef = useRef();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [bookDetail, setBookdetail] = useState(null);\n\n  useEffect(() => {\n    fetch(`https://api-for-missions-and-railways.herokuapp.com/books/${id}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw response;\n      })\n      .then((data) => setBookdetail(data))\n      .catch((err) => console.log(err));\n  }, [authCtx.token, id]);\n\n  const updateHandler = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    const enteredTitle = enterTitleInputRef.current.value;\n    const enteredUrl = enterUrlInputRef.current.value;\n    const enteredDetail = enterDetailInputRef.current.value;\n    const enteredReview = enterReviewInputRef.current.value;\n\n    fetch(`https://api-for-missions-and-railways.herokuapp.com/books/${id}`, {\n      method: \"PUT\",\n      body: JSON.stringify({\n        title: enteredTitle,\n        url: enteredUrl,\n        detail: enteredDetail,\n        review: enteredReview,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${authCtx.token}`,\n      },\n    }).then((response) => {\n      if (response.ok) {\n        setIsLoading(false);\n        history.replace(\"/book\");\n      }\n    });\n  };\n\n  const deleteHandler = () => {\n    setIsLoading(true);\n    fetch(`https://api-for-missions-and-railways.herokuapp.com/books/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          setIsLoading(false);\n          history.replace(\"/book\");\n        }\n        throw response;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <>\n      <h2 className={classes.title}>書籍情報を変更</h2>\n      {bookDetail ? (\n        <form className={classes.form} onSubmit={updateHandler}>\n          <div className={classes.control}>\n            <label htmlFor=\"title\">タイトル</label>\n            <input\n              type=\"text\"\n              ref={enterTitleInputRef}\n              defaultValue={bookDetail.title}\n            />\n          </div>\n          <div className={classes.control}>\n            <label htmlFor=\"url\">リンク</label>\n            <input\n              type=\"text\"\n              ref={enterUrlInputRef}\n              defaultValue={bookDetail.url}\n            />\n          </div>\n          <div className={classes.control}>\n            <label htmlFor=\"link\">詳細</label>\n            <input\n              type=\"text\"\n              ref={enterDetailInputRef}\n              defaultValue={bookDetail.detail}\n            />\n          </div>\n          <div className={classes.control}>\n            <label htmlFor=\"review\">感想 </label>\n            <textarea\n              type=\"text\"\n              ref={enterReviewInputRef}\n              defaultValue={bookDetail.review}\n            />\n          </div>\n          {isLoading && <Spinner />}\n          <div className={classes.actions}>\n            <button>更新</button>\n          </div>\n          <div className={classes.actions}>\n            <button type=\"button\" onClick={deleteHandler}>\n              消去\n            </button>\n          </div>\n        </form>\n      ) : (\n        <Spinner />\n      )}\n    </>\n  );\n};\n\nexport default EditBook;\n","import EditBook from \"../components/editbook/EditBook\";\n\nconst BookEditPage = () => {\n  return <EditBook />;\n};\n\nexport default BookEditPage;\n","import { Route, Switch, Redirect } from \"react-router-dom\";\nimport Layout from \"./components/Layout/Layout\";\nimport LoginPage from \"./pages/LoginPage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport SignupPage from \"./pages/SignupPage\";\nimport HomePage from \"./pages/HomePage\";\nimport { useContext } from \"react\";\nimport AuthContext from \"./store/auth-context\";\nimport BookList from \"./components/book/BookList\";\nimport NewBookPage from \"./pages/NewBookPage\";\nimport BookDetailPage from \"./pages/BookDetailPage\";\nimport BookEditPage from \"./pages/BookEditPage\";\n\nfunction App(props) {\n  const authCtx = useContext(AuthContext);\n\n  return (\n    <Layout onUserName={props.onUserName}>\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage />\n        </Route>\n        {!authCtx.isLoggedIn && (\n          <Route path=\"/login\">\n            <LoginPage />\n          </Route>\n        )}\n        {!authCtx.isLoggedIn && (\n          <Route path=\"/signup\">\n            <SignupPage />\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/new\">\n            <NewBookPage />\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/detail/:id\">\n            <BookDetailPage></BookDetailPage>\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/edit/:id\">\n            <BookEditPage />\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/profile\">\n            <ProfilePage />\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/book\">\n            <BookList />\n          </Route>\n        )}\n        <Route path=\"*\">\n          {authCtx.isLoggedIn && <Redirect to=\"/book\"></Redirect>}\n          {!authCtx.isLoggedIn && <Redirect to=\"/\"></Redirect>}\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { AuthContextProvider } from \"./store/auth-context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}