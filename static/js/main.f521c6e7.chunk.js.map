{"version":3,"sources":["components/editbook/EditBook.module.css","components/newbook/NewBookForm.module.css","components/signup/SignupForm.module.css","components/Login/LoginForm.module.css","components/profile/Profile.module.css","components/book/BookDetail.module.css","components/Layout/MainNavigation.module.css","components/UI/Spinner.module.css","components/Layout/Layout.module.css","components/startingpage/StartingPage.module.css","components/book/BookItem.module.css","components/book/BookList.module.css","components/addbook/AddBookCard.module.css","store/auth-context.js","components/Layout/MainNavigation.js","components/Layout/Layout.js","components/UI/Spinner.js","components/Login/LoginForm.js","pages/LoginPage.js","components/profile/Profile.js","pages/ProfilePage.js","components/signup/SignupForm.js","pages/SignupPage.js","components/startingpage/StartingPage.js","pages/HomePage.js","components/book/BookItem.js","components/addbook/AddBookCard.js","components/book/BookList.js","components/newbook/NewBookForm.js","pages/NewBookPage.js","components/book/BookDetail.js","pages/BookDetailPage.js","components/editbook/EditBook.js","pages/BookEditPage.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","AuthContext","React","createContext","token","isLoggedIn","name","login","logout","setName","AuthContextProvider","props","initialToken","localStorage","getItem","useState","setToken","contextValue","setItem","removeItem","Provider","value","children","MainNavigation","authCtx","useContext","fetch","method","headers","Authorization","then","response","ok","json","data","catch","err","console","log","className","classes","header","to","logo","onClick","Layout","onUserName","userName","main","Spinner","wrapper","spinner","LoginForm","history","useHistory","emailInputRef","useRef","passwordInputRef","isLoading","setIsLoading","error","setError","auth","onSubmit","e","preventDefault","enteredEmail","current","enteredpassword","body","JSON","stringify","email","password","res","errorMessage","ErrorMessageJP","Error","replace","message","control","htmlFor","type","id","ref","actions","toggle","LoginPage","Profile","newNameInputRef","profile","form","enteredNewName","placeholder","action","ProfilePage","SignupForm","nameInputRef","enteredName","enteredPassword","go","SignupPage","StartingPage","starting","HomePage","BookItem","text","item","title","substring","isMine","AddBookCard","BookList","book","setBook","useEffect","list","map","url","detail","NewBookForm","enterTitleInputRef","enterUrlInputRef","enterDetailInputRef","enterReviewInputRef","enteredTitle","enteredUrl","enteredDetail","enteredReview","review","rows","NewBookPage","BookDetail","useParams","bookDetail","setBookdetail","href","comments","reviewer","BookDetailPage","EditBook","defaultValue","BookEditPage","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f521c6e7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"EditBook_title__3kpwA\",\"form\":\"EditBook_form__3TauR\",\"control\":\"EditBook_control__29fEZ\",\"actions\":\"EditBook_actions__3iLvN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"NewBookForm_title__s6wLL\",\"form\":\"NewBookForm_form__1TGF3\",\"control\":\"NewBookForm_control__xFB2-\",\"actions\":\"NewBookForm_actions__6fo9A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"SignupForm_auth__1MzJj\",\"control\":\"SignupForm_control__15KfM\",\"actions\":\"SignupForm_actions__2f9-1\",\"toggle\":\"SignupForm_toggle__4VF-Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"LoginForm_auth__1IQlg\",\"control\":\"LoginForm_control__31W8X\",\"actions\":\"LoginForm_actions__1VejT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2my0g\",\"form\":\"Profile_form__2GBQu\",\"control\":\"Profile_control__8V-AO\",\"action\":\"Profile_action__6jfEu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"BookDetail_detail__Iraaw\",\"title\":\"BookDetail_title__3j4Y3\",\"comments\":\"BookDetail_comments__1nJF4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__4Jzyy\",\"logo\":\"MainNavigation_logo__3Pf9h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Spinner_wrapper__49VVB\",\"spinner\":\"Spinner_spinner__1OIfZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__4UStv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starting\":\"StartingPage_starting__jSBZB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"BookItem_item__3Z8yL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"BookList_list__1eR-Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"AddBookCard_item__27mZr\"};","import React, { useState } from \"react\";\r\n\r\nconst AuthContext = React.createContext({\r\n  token: \"\",\r\n  isLoggedIn: false,\r\n  name: \"\",\r\n  login: (token) => {},\r\n  logout: () => {},\r\n  setName: (name) => {},\r\n});\r\n\r\nexport const AuthContextProvider = (props) => {\r\n  const initialToken = localStorage.getItem(\"token\");\r\n  const [token, setToken] = useState(initialToken);\r\n  const [name, setName] = useState(null);\r\n\r\n  const userIsLoggedIn = !!token;\r\n\r\n  const loginHandler = (token) => {\r\n    localStorage.setItem(\"token\", token);\r\n    setToken(token);\r\n  };\r\n\r\n  const logoutHandler = () => {\r\n    setToken(null);\r\n    localStorage.removeItem(\"token\");\r\n  };\r\n\r\n  const setNameHandler = (name) => {\r\n    setName(name);\r\n  };\r\n\r\n  const contextValue = {\r\n    token: token,\r\n    isLoggedIn: userIsLoggedIn,\r\n    name: name,\r\n    login: loginHandler,\r\n    logout: logoutHandler,\r\n    setName: setNameHandler,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContext;\r\n","import { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\n\nimport classes from \"./MainNavigation.module.css\";\nimport AuthContext from \"../../store/auth-context\";\n\nconst MainNavigation = (props) => {\n  const authCtx = useContext(AuthContext);\n\n  const isLoggedIn = authCtx.isLoggedIn;\n\n  const logoutHandler = () => {\n    authCtx.logout();\n  };\n\n  if (isLoggedIn) {\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/users\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw response;\n      })\n      .then((data) => authCtx.setName(data.name))\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <header className={classes.header}>\n      <Link to={!isLoggedIn ? \"/\" : \"/book\"}>\n        <div className={classes.logo}>React Library</div>\n      </Link>\n      <nav>\n        <ul>\n          {isLoggedIn && <li>{authCtx.name}　さん</li>}\n          {!isLoggedIn && (\n            <li>\n              <Link to=\"/login\">ログイン</Link>\n            </li>\n          )}\n          {!isLoggedIn && (\n            <li>\n              <Link to=\"/signup\">登録</Link>\n            </li>\n          )}\n          {isLoggedIn && (\n            <li>\n              <Link to=\"/profile\">プロフィール</Link>\n            </li>\n          )}\n          {isLoggedIn && (\n            <li>\n              <button onClick={logoutHandler}>ログアウト</button>\n            </li>\n          )}\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default MainNavigation;\n","import MainNavigation from \"./MainNavigation\";\nimport classes from \"./Layout.module.css\";\n\nconst Layout = (props) => {\n  return (\n    <>\n      <MainNavigation onUserName={props.userName} />\n      <main className={classes.main}>{props.children}</main>\n    </>\n  );\n};\n\nexport default Layout;\n","import classes from \"./Spinner.module.css\";\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <div className={classes.spinner}></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","import classes from \"./LoginForm.module.css\";\r\nimport { useState, useRef, useContext } from \"react\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport { useHistory } from \"react-router\";\r\nimport Spinner from \"../UI/Spinner\";\r\n\r\nconst LoginForm = () => {\r\n  const history = useHistory();\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    const enteredEmail = emailInputRef.current.value;\r\n    const enteredpassword = passwordInputRef.current.value;\r\n\r\n    setIsLoading(true);\r\n\r\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/signin\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        email: enteredEmail,\r\n        password: enteredpassword,\r\n      }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => {\r\n        setIsLoading(false);\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return res.json().then((data) => {\r\n            let errorMessage = data.ErrorMessageJP;\r\n\r\n            throw new Error(errorMessage);\r\n          });\r\n        }\r\n      })\r\n      .then((data) => {\r\n        authCtx.login(data.token);\r\n        history.replace(\"/book\");\r\n      })\r\n      .catch((err) => {\r\n        setError(err.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className={classes.auth}>\r\n      <form onSubmit={submitHandler}>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"email\">e-mail</label>\r\n          <input type=\"email\" id=\"email\" ref={emailInputRef} />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"password\">パスワード</label>\r\n          <input type=\"password\" id=\"password\" ref={passwordInputRef} />\r\n        </div>\r\n        {isLoading && <Spinner />}\r\n        {!isLoading && error && <p>{error}</p>}\r\n        <div className={classes.actions}>\r\n          <button className={classes.toggle}>ログイン</button>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import LoginForm from \"../components/Login/LoginForm\";\r\n\r\nconst LoginPage = () => {\r\n  return <LoginForm />;\r\n};\r\n\r\nexport default LoginPage;\r\n","import { useRef, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport Spinner from \"../UI/Spinner\";\r\nimport classes from \"./Profile.module.css\";\r\n\r\nconst Profile = () => {\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const newNameInputRef = useRef();\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    const enteredNewName = newNameInputRef.current.value;\r\n\r\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/users\", {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({\r\n        name: enteredNewName,\r\n      }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${authCtx.token}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          authCtx.setName(enteredNewName);\r\n          setIsLoading(false);\r\n          history.replace(\"/book\");\r\n        }\r\n        throw response;\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <section className={classes.profile}>\r\n      <form className={classes.form} onSubmit={submitHandler}>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"new-password\">ユーザー名:{authCtx.name}</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"new-name\"\r\n            ref={newNameInputRef}\r\n            placeholder=\"ユーザー名\"\r\n          />\r\n        </div>\r\n        {isLoading && <Spinner />}\r\n        <div className={classes.action}>\r\n          <button>更新</button>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import Profile from \"../components/profile/Profile\";\r\n\r\nconst ProfilePage = () => {\r\n  return <Profile />;\r\n};\r\n\r\nexport default ProfilePage;\r\n","import classes from \"./SignupForm.module.css\";\r\nimport { useState, useRef, useContext } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport Spinner from \"../UI/Spinner\";\r\n\r\nconst SignupForm = () => {\r\n  const nameInputRef = useRef();\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n\r\n  const authCtx = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredEmail = emailInputRef.current.value;\r\n    const enteredPassword = passwordInputRef.current.value;\r\n\r\n    setIsLoading(true);\r\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/users\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        name: enteredName,\r\n        email: enteredEmail,\r\n        password: enteredPassword,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        setIsLoading(false);\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return res.json().then((data) => {\r\n            let errorMessage = data.ErrorMessageJP;\r\n\r\n            throw new Error(errorMessage);\r\n          });\r\n        }\r\n      })\r\n      .then((data) => {\r\n        authCtx.login(data.token);\r\n        history.replace(\"/book\");\r\n        history.go(0);\r\n      })\r\n      .catch((err) => {\r\n        setError(err.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className={classes.auth}>\r\n      <form onSubmit={submitHandler}>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"name\">名前</label>\r\n          <input type=\"text\" id=\"name\" ref={nameInputRef} />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"email\">e-mail</label>\r\n          <input type=\"email\" id=\"email\" ref={emailInputRef} />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"password\">パスワード</label>\r\n          <input type=\"password\" id=\"password\" ref={passwordInputRef} />\r\n        </div>\r\n        {isLoading && <Spinner />}\r\n        {!isLoading && error && <p>{error}</p>}\r\n        <div className={classes.actions}>\r\n          <button className={classes.toggle}>サインアップ</button>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SignupForm;\r\n","import SignupForm from \"../components/signup/SignupForm\";\r\n\r\nconst SignupPage = () => {\r\n  return <SignupForm />;\r\n};\r\n\r\nexport default SignupPage;\r\n","import classes from \"./StartingPage.module.css\";\r\n\r\nconst StartingPage = () => {\r\n  return (\r\n    <section className={classes.starting}>\r\n      <h1>こんにちは！！！</h1>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default StartingPage;\r\n","import StartingPage from \"../components/startingpage/StartingPage\";\r\n\r\nconst HomePage = () => {\r\n  return <StartingPage />;\r\n};\r\n\r\nexport default HomePage;\r\n","import { Link } from \"react-router-dom\";\r\nimport classes from \"./BookItem.module.css\";\r\n\r\nconst BookItem = (props) => {\r\n  const text = props.text;\r\n\r\n  return (\r\n    <li className={classes.item}>\r\n      <figure>\r\n        <blockquote>\r\n          <p>{props.title}</p>\r\n        </blockquote>\r\n        <figcaption>{text.substring(0, 100)}...</figcaption>\r\n      </figure>\r\n      {props.isMine && (\r\n        <Link className=\"btn\" to={`/edit/${props.id}`}>\r\n          編集\r\n        </Link>\r\n      )}\r\n      <Link className=\"btn\" to={`/detail/${props.id}`}>\r\n        詳細\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default BookItem;\r\n","import classes from \"./AddBookCard.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst AddBookCard = () => {\r\n  const history = useHistory();\r\n\r\n  const clickHandler = () => {\r\n    history.replace(\"/new\");\r\n  };\r\n\r\n  return (\r\n    <li className={classes.item} onClick={clickHandler}>\r\n      <figure>\r\n        <blockquote>\r\n          <p>書籍を追加する</p>\r\n        </blockquote>\r\n      </figure>\r\n      <Link className=\"btn\" to=\"/new\">\r\n        ＋\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default AddBookCard;\r\n","import BookItem from \"./BookItem\";\r\nimport classes from \"./BookList.module.css\";\r\nimport { useEffect, useState, useContext } from \"react\";\r\nimport AddBookCard from \"../addbook/AddBookCard\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport Spinner from \"../UI/Spinner\";\r\n\r\nconst BookList = (props) => {\r\n  const [book, setBook] = useState(null);\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/books\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Bearer ${authCtx.token}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        throw response;\r\n      })\r\n      .then((data) => {\r\n        setBook(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [authCtx.token]);\r\n\r\n  return (\r\n    <ul className={classes.list}>\r\n      <AddBookCard />\r\n      {book ? (\r\n        book.map((book) => (\r\n          <BookItem\r\n            key={book.id}\r\n            id={book.id}\r\n            url={book.url}\r\n            title={book.title}\r\n            text={book.detail}\r\n            isMine={book.isMine}\r\n          />\r\n        ))\r\n      ) : (\r\n        <Spinner />\r\n      )}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default BookList;\r\n","import { useRef, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport Spinner from \"../UI/Spinner\";\r\n\r\nimport classes from \"./NewBookForm.module.css\";\r\n\r\nconst NewBookForm = () => {\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const enterTitleInputRef = useRef();\r\n  const enterUrlInputRef = useRef();\r\n  const enterDetailInputRef = useRef();\r\n  const enterReviewInputRef = useRef();\r\n\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    const enteredTitle = enterTitleInputRef.current.value;\r\n    const enteredUrl = enterUrlInputRef.current.value;\r\n    const enteredDetail = enterDetailInputRef.current.value;\r\n    const enteredReview = enterReviewInputRef.current.value;\r\n\r\n    fetch(\"https://api-for-missions-and-railways.herokuapp.com/books\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        title: enteredTitle,\r\n        url: enteredUrl,\r\n        detail: enteredDetail,\r\n        review: enteredReview,\r\n      }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${authCtx.token}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          setIsLoading(false);\r\n          history.replace(\"/book\");\r\n        }\r\n        throw response;\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2 className={classes.title}>書籍登録</h2>\r\n      <form className={classes.form} onSubmit={submitHandler}>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"title\">タイトル</label>\r\n          <input type=\"text\" ref={enterTitleInputRef} />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"url\">リンク</label>\r\n          <input type=\"text\" ref={enterUrlInputRef} />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"link\">詳細</label>\r\n          <textarea type=\"text\" ref={enterDetailInputRef} rows=\"5\" />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"review\">感想 </label>\r\n          <input type=\"text\" ref={enterReviewInputRef} />\r\n        </div>\r\n        {isLoading && <Spinner />}\r\n        <div className={classes.actions}>\r\n          <button>登録</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NewBookForm;\r\n","import NewBookForm from \"../components/newbook/NewBookForm\";\r\n\r\nconst NewBookPage = () => {\r\n  return <NewBookForm />;\r\n};\r\n\r\nexport default NewBookPage;\r\n","import classes from \"./BookDetail.module.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useEffect, useState, useContext } from \"react\";\r\nimport AuthContext from \"../../store/auth-context\";\r\n\r\nconst BookDetail = () => {\r\n  const authCtx = useContext(AuthContext);\r\n  const { id } = useParams();\r\n  const [bookDetail, setBookdetail] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(`https://api-for-missions-and-railways.herokuapp.com/books/${id}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Bearer ${authCtx.token}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        throw response;\r\n      })\r\n      .then((data) => setBookdetail(data))\r\n      .catch((err) => console.log(err));\r\n  }, [authCtx.token, id]);\r\n\r\n  return (\r\n    <>\r\n      {bookDetail && (\r\n        <div className={classes.detail}>\r\n          <div className={classes.title}>\r\n            <h3>タイトル</h3>\r\n            <p>{bookDetail.title}</p>\r\n            <a href={bookDetail.url}>{bookDetail.url.substring(0, 40)}...</a>\r\n            <hr></hr>\r\n          </div>\r\n          <div>\r\n            <h3>詳細</h3>\r\n            <p>{bookDetail.detail}</p>\r\n          </div>\r\n          <div className={classes.comments}>\r\n            <h3>レビュー</h3>\r\n            <span>{bookDetail.reviewer}</span>\r\n            <p>{bookDetail.review}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookDetail;\r\n","import BookDetail from \"../components/book/BookDetail\";\r\n\r\nconst BookDetailPage = () => {\r\n  return <BookDetail />;\r\n};\r\n\r\nexport default BookDetailPage;\r\n","import classes from \"./EditBook.module.css\";\r\nimport { useRef, useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport Spinner from \"../UI/Spinner\";\r\n\r\nconst EditBook = () => {\r\n  const history = useHistory();\r\n  const authCtx = useContext(AuthContext);\r\n  const { id } = useParams();\r\n\r\n  const enterTitleInputRef = useRef();\r\n  const enterUrlInputRef = useRef();\r\n  const enterDetailInputRef = useRef();\r\n  const enterReviewInputRef = useRef();\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [bookDetail, setBookdetail] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(`https://api-for-missions-and-railways.herokuapp.com/books/${id}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Bearer ${authCtx.token}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        throw response;\r\n      })\r\n      .then((data) => setBookdetail(data))\r\n      .catch((err) => console.log(err));\r\n  }, [authCtx.token, id]);\r\n\r\n  const updateHandler = (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    const enteredTitle = enterTitleInputRef.current.value;\r\n    const enteredUrl = enterUrlInputRef.current.value;\r\n    const enteredDetail = enterDetailInputRef.current.value;\r\n    const enteredReview = enterReviewInputRef.current.value;\r\n\r\n    fetch(`https://api-for-missions-and-railways.herokuapp.com/books/${id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({\r\n        title: enteredTitle,\r\n        url: enteredUrl,\r\n        detail: enteredDetail,\r\n        review: enteredReview,\r\n      }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${authCtx.token}`,\r\n      },\r\n    }).then((response) => {\r\n      if (response.ok) {\r\n        setIsLoading(false);\r\n        history.replace(\"/book\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const deleteHandler = () => {\r\n    setIsLoading(true);\r\n    fetch(`https://api-for-missions-and-railways.herokuapp.com/books/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: `Bearer ${authCtx.token}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          setIsLoading(false);\r\n          history.replace(\"/book\");\r\n        }\r\n        throw response;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2 className={classes.title}>書籍情報を変更</h2>\r\n      {bookDetail ? (\r\n        <form className={classes.form} onSubmit={updateHandler}>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"title\">タイトル</label>\r\n            <input\r\n              type=\"text\"\r\n              ref={enterTitleInputRef}\r\n              defaultValue={bookDetail.title}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"url\">リンク</label>\r\n            <input\r\n              type=\"text\"\r\n              ref={enterUrlInputRef}\r\n              defaultValue={bookDetail.url}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"link\">詳細</label>\r\n            <input\r\n              type=\"text\"\r\n              ref={enterDetailInputRef}\r\n              defaultValue={bookDetail.detail}\r\n            />\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label htmlFor=\"review\">感想 </label>\r\n            <textarea\r\n              type=\"text\"\r\n              ref={enterReviewInputRef}\r\n              defaultValue={bookDetail.review}\r\n            />\r\n          </div>\r\n          {isLoading && <Spinner />}\r\n          <div className={classes.actions}>\r\n            <button>更新</button>\r\n          </div>\r\n          <div className={classes.actions}>\r\n            <button type=\"button\" onClick={deleteHandler}>\r\n              消去\r\n            </button>\r\n          </div>\r\n        </form>\r\n      ) : (\r\n        <Spinner />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditBook;\r\n","import EditBook from \"../components/editbook/EditBook\";\r\n\r\nconst BookEditPage = () => {\r\n  return <EditBook />;\r\n};\r\n\r\nexport default BookEditPage;\r\n","import { Route, Switch, Redirect } from \"react-router-dom\";\nimport Layout from \"./components/Layout/Layout\";\nimport LoginPage from \"./pages/LoginPage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport SignupPage from \"./pages/SignupPage\";\nimport HomePage from \"./pages/HomePage\";\nimport { useContext } from \"react\";\nimport AuthContext from \"./store/auth-context\";\nimport BookList from \"./components/book/BookList\";\nimport NewBookPage from \"./pages/NewBookPage\";\nimport BookDetailPage from \"./pages/BookDetailPage\";\nimport BookEditPage from \"./pages/BookEditPage\";\n\nfunction App(props) {\n  const authCtx = useContext(AuthContext);\n\n  return (\n    <Layout onUserName={props.onUserName}>\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage />\n        </Route>\n        {!authCtx.isLoggedIn && (\n          <Route path=\"/login\">\n            <LoginPage />\n          </Route>\n        )}\n        {!authCtx.isLoggedIn && (\n          <Route path=\"/signup\">\n            <SignupPage />\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/new\">\n            <NewBookPage />\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/detail/:id\">\n            <BookDetailPage></BookDetailPage>\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/edit/:id\">\n            <BookEditPage />\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/profile\">\n            <ProfilePage />\n          </Route>\n        )}\n        {authCtx.isLoggedIn && (\n          <Route path=\"/book\">\n            <BookList />\n          </Route>\n        )}\n        <Route path=\"*\">\n          {authCtx.isLoggedIn && <Redirect to=\"/book\"></Redirect>}\n          {!authCtx.isLoggedIn && <Redirect to=\"/\"></Redirect>}\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { AuthContextProvider } from \"./store/auth-context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}